---
description: vector - yet another logging service, working on 8686 port
---

# Vector

Route `/playground` let u request to vector's graphql api

### Subscriptions

Vector gives all logs without auth and u can read it with graphql subscriptions

```graphql
subscription TapAllDataStreams {
  outputEventsByComponentIdPatterns(outputsPatterns: ["*"], limit: 100) {
    ... on Log {
      componentId
      componentType
      timestamp
      string(encoding: JSON)
    }
    ... on Metric {
      componentId
      name
      kind
      value
      tags {
        key
        value
      }
    }
    ... on Trace {
      componentId
      string(encoding: JSON)
    }
  }
}
```

**with python**

```python
import asyncio
from gql import Client, gql
from gql.transport.websockets import WebsocketsTransport

WS_ENDPOINT = "ws://vector.logging.svc.cluster.local/:8686/graphql"

# Don't forget about limit below
SUBSCRIPTION = gql("""
subscription TapAllDataStreams {
  outputEventsByComponentIdPatterns(outputsPatterns: ["*"], limit: 100) {
    ... on Log {
      componentId
      componentType
      timestamp
      string(encoding: JSON)
    }
    ... on Metric {
      componentId
      name
      kind
      value
      tags {
        key
        value
      }
    }
    ... on Trace {
      componentId
      string(encoding: JSON)
    }
  }
}
""")

async def main():
    transport = WebsocketsTransport(
        url=WS_ENDPOINT,
    )

    async with Client(
        transport=transport,
        fetch_schema_from_transport=False,  # or True, if schema introspection is needed
    ) as session:
        async for result in session.subscribe(SUBSCRIPTION):
            print("New log:")
            print(result)

if __name__ == "__main__":
    asyncio.run(main())
```
