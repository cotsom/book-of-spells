# Openstack

## Explanation

{% embed url="https://mertcankondur.medium.com/openstack-from-a-penetration-tester-perspective-part-1-573e296a97fa" %}

{% embed url="https://mertcankondur.medium.com/openstack-from-a-penetration-tester-perspective-part-2-fa658fc8957e" %}

{% embed url="https://mertcankondur.medium.com/openstack-from-a-penetration-tester-perspective-part-3-408bb334964a" %}

### _Tool_

{% embed url="https://github.com/mertcankondur/openstack-security-tool" %}

## Information gathering

### openstack cli

#### **Set config:** `~/.config/openstack/clouds.yaml`

```yaml
clouds:
  cloud-advanced:
    auth:
      auth_url: https://iam.hc.openstack.local/v3 # just example
      username: "<username>"
      password: "<password>"
      project_id: "<project_id>"
      user_domain_id: "<user_domain_id>"
      project_domain_id: "<project_domain_id>"
    region_name: "<region_name>"
    interface: "public"
    identity_api_version: 3
    volume_api_version: 3
```

```bash
# List porject
openstack project list

# Groups
openstack --os-cloud cloud-advanced --os-project-id <project_id> group list

# Roles
openstack --os-cloud cloud-advanced --os-project-id <project_id> role assignment list \
  --user <username|user_id> --project <project_id> --names --effective

# Quotes (usefull for snapshot avalability check)
openstack --os-cloud cloud-advanced --os-project-id <project_id> limits show
openstack --os-cloud cloud-advanced --os-project-id <project_id> volume qos list

# Hypervisors check (need extanded rights)
openstack --os-cloud cloud-advanced --os-project-id <project_id> hypervisor list

#Compute cloud servers
openstack --os-cloud cloud-advanced --os-project-id <project_id> server list --long
```
