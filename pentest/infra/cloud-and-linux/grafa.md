# Grafa

### SSRF

Присутствует возможность создать свой datasource и обращаться к любому ресурсу по http/tcp, который был указан в качестве источника и получать ответ

**PoC:**

1. Развернем тестовую среду из 2 контейнеров: Grafana и nginx.

<figure><img src="../../../.gitbook/assets/image (9).png" alt=""><figcaption></figcaption></figure>

2. создадим datasource и выберем тип Prometheus, потому что он отправляет запросы по http. В качестве источника выберем nginx

<figure><img src="../../../.gitbook/assets/image (7).png" alt=""><figcaption></figcaption></figure>

3. Отправим запрос к api grafana, чтобы получить id нашего datasoruce

<figure><img src="../../../.gitbook/assets/image (10).png" alt=""><figcaption></figcaption></figure>

4. с помощью команды curl -u admin:admin -s http://10.172.1.22:3000/api/datasources/proxy/4 отправим запрос на установленный ресурс и получим ответ

<figure><img src="../../../.gitbook/assets/image (19).png" alt=""><figcaption></figcaption></figure>

Мы можем отправлять запросы от лица grafana к любым ресурсам и по любым протоколам, в зависимости от datasources, которые мы найдем
